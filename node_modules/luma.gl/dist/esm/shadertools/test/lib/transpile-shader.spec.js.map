{"version":3,"sources":["../../../../../src/shadertools/test/lib/transpile-shader.spec.js"],"names":["transpileShader","test","VS_GLSL_300","VS_GLSL_100","FS_GLSL_300","FS_GLSL_100","t","ok","undefined","end","assembleResult","equal"],"mappings":"AAAA;AACA,OAAOA,eAAP,MAA4B,8CAA5B;AACA,OAAOC,IAAP,MAAiB,YAAjB;AAEA,IAAMC,qMAAN;AAcA,IAAMC,gNAAN;AAcA,IAAMC,gMAAN;AAeA,IAAMC,qMAAN;AAeAJ,KAAK,wBAAL,EAA+B,aAAK;AAClCK,IAAEC,EAAF,CAAKP,oBAAoBQ,SAAzB,EAAoC,mCAApC;AACAF,IAAEG,GAAF;AACD,CAHD;AAKAR,KAAK,0BAAL,EAAiC,aAAK;AACpC,MAAIS,cAAJ;AAEAA,mBAAiBV,gBAAgBE,WAAhB,EAA6B,GAA7B,EAAkC,IAAlC,CAAjB;AACAI,IAAEK,KAAF,CAAQD,cAAR,EAAwBP,WAAxB,EAAqC,sBAArC;AAEAO,mBAAiBV,gBAAgBI,WAAhB,EAA6B,GAA7B,EAAkC,KAAlC,CAAjB;AACAE,IAAEK,KAAF,CAAQD,cAAR,EAAwBL,WAAxB,EAAqC,sBAArC;AAEAK,mBAAiBV,gBAAgBG,WAAhB,EAA6B,GAA7B,EAAkC,IAAlC,CAAjB;AACAG,IAAEK,KAAF,CAAQD,cAAR,EAAwBR,WAAxB,EAAqC,sBAArC;AAEAQ,mBAAiBV,gBAAgBK,WAAhB,EAA6B,GAA7B,EAAkC,KAAlC,CAAjB;AACAC,IAAEK,KAAF,CAAQD,cAAR,EAAwBN,WAAxB,EAAqC,sBAArC;AAEAE,IAAEG,GAAF;AACD,CAhBD","sourcesContent":["/* eslint-disable camelcase */\nimport transpileShader from 'luma.gl/shadertools/src/lib/transpile-shader';\nimport test from 'tape-catch';\n\nconst VS_GLSL_300 = `\\\n#version 300 es\n\nin vec4 positions;\nout vec4 vColor;\n\nvoid f(out float a, in float b) {}\n\nvoid main(void) {\n  gl_Position = positions;\n  vColor = vec4(1., 0., 0., 1.);\n}\n`;\n\nconst VS_GLSL_100 = `\\\n#version 300 es\n\nattribute vec4 positions;\nvarying vec4 vColor;\n\nvoid f(out float a, in float b) {}\n\nvoid main(void) {\n  gl_Position = positions;\n  vColor = vec4(1., 0., 0., 1.);\n}\n`;\n\nconst FS_GLSL_300 = `\\\n#version 300 es\n\nprecision highp float;\n\nout vec4 fragmentColor;\nin vec4 vColor;\n\nvoid f(out float a, in float b) {}\n\nvoid main(void) {\n  fragmentColor = vColor;\n}\n`;\n\nconst FS_GLSL_100 = `\\\n#version 300 es\n\nprecision highp float;\n\nout vec4 fragmentColor;\nvarying vec4 vColor;\n\nvoid f(out float a, in float b) {}\n\nvoid main(void) {\n  fragmentColor = vColor;\n}\n`;\n\ntest('transpileShader#import', t => {\n  t.ok(transpileShader !== undefined, 'transpileShader import successful');\n  t.end();\n});\n\ntest('transpileShader#versions', t => {\n  let assembleResult;\n\n  assembleResult = transpileShader(VS_GLSL_300, 100, true);\n  t.equal(assembleResult, VS_GLSL_100, 'correctly transpiled');\n\n  assembleResult = transpileShader(FS_GLSL_300, 100, false);\n  t.equal(assembleResult, FS_GLSL_100, 'correctly transpiled');\n\n  assembleResult = transpileShader(VS_GLSL_100, 300, true);\n  t.equal(assembleResult, VS_GLSL_300, 'correctly transpiled');\n\n  assembleResult = transpileShader(FS_GLSL_100, 300, false);\n  t.equal(assembleResult, FS_GLSL_300, 'correctly transpiled');\n\n  t.end();\n});\n"],"file":"transpile-shader.spec.js"}