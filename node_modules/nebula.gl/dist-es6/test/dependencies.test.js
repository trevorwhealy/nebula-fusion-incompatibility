'use strict';

var _fs = require('fs');

var RESOLVED_REGEX = /^resolved/gi;
var ALLOWED_REPO = 'https://registry.yarnpkg.com/';

it('Ensure yarn.lock only uses ' + ALLOWED_REPO, function () {
  var lockfile = __dirname + '/../../yarn.lock';
  var contents = (0, _fs.readFileSync)(lockfile, 'utf8').split('\n');

  contents.forEach(function (line) {
    if (line.trim().match(RESOLVED_REGEX)) {
      expect(line).toEqual(expect.stringContaining(ALLOWED_REPO));
    }
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZXN0L2RlcGVuZGVuY2llcy50ZXN0LmpzIl0sIm5hbWVzIjpbIlJFU09MVkVEX1JFR0VYIiwiQUxMT1dFRF9SRVBPIiwiaXQiLCJsb2NrZmlsZSIsIl9fZGlybmFtZSIsImNvbnRlbnRzIiwic3BsaXQiLCJmb3JFYWNoIiwibGluZSIsInRyaW0iLCJtYXRjaCIsImV4cGVjdCIsInRvRXF1YWwiLCJzdHJpbmdDb250YWluaW5nIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUVBLElBQU1BLGlCQUFpQixhQUF2QjtBQUNBLElBQU1DLGVBQWUsK0JBQXJCOztBQUVBQyxtQ0FBaUNELFlBQWpDLEVBQWlELFlBQU07QUFDckQsTUFBTUUsV0FBY0MsU0FBZCxxQkFBTjtBQUNBLE1BQU1DLFdBQVcsc0JBQWFGLFFBQWIsRUFBdUIsTUFBdkIsRUFBK0JHLEtBQS9CLENBQXFDLElBQXJDLENBQWpCOztBQUVBRCxXQUFTRSxPQUFULENBQWlCLGdCQUFRO0FBQ3ZCLFFBQUlDLEtBQUtDLElBQUwsR0FBWUMsS0FBWixDQUFrQlYsY0FBbEIsQ0FBSixFQUF1QztBQUNyQ1csYUFBT0gsSUFBUCxFQUFhSSxPQUFiLENBQXFCRCxPQUFPRSxnQkFBUCxDQUF3QlosWUFBeEIsQ0FBckI7QUFDRDtBQUNGLEdBSkQ7QUFLRCxDQVREIiwiZmlsZSI6ImRlcGVuZGVuY2llcy50ZXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVhZEZpbGVTeW5jIH0gZnJvbSAnZnMnO1xuXG5jb25zdCBSRVNPTFZFRF9SRUdFWCA9IC9ecmVzb2x2ZWQvZ2k7XG5jb25zdCBBTExPV0VEX1JFUE8gPSAnaHR0cHM6Ly9yZWdpc3RyeS55YXJucGtnLmNvbS8nO1xuXG5pdChgRW5zdXJlIHlhcm4ubG9jayBvbmx5IHVzZXMgJHtBTExPV0VEX1JFUE99YCwgKCkgPT4ge1xuICBjb25zdCBsb2NrZmlsZSA9IGAke19fZGlybmFtZX0vLi4vLi4veWFybi5sb2NrYDtcbiAgY29uc3QgY29udGVudHMgPSByZWFkRmlsZVN5bmMobG9ja2ZpbGUsICd1dGY4Jykuc3BsaXQoJ1xcbicpO1xuXG4gIGNvbnRlbnRzLmZvckVhY2gobGluZSA9PiB7XG4gICAgaWYgKGxpbmUudHJpbSgpLm1hdGNoKFJFU09MVkVEX1JFR0VYKSkge1xuICAgICAgZXhwZWN0KGxpbmUpLnRvRXF1YWwoZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoQUxMT1dFRF9SRVBPKSk7XG4gICAgfVxuICB9KTtcbn0pO1xuIl19